language: minimal
dist: bionic
os: linux
env:
  global:
  - DOCKER_VOLUMES_DIR=$HOME/docker-volumes
  - DOCKER_CACHE_DIR=$HOME/docker-cache
  - RUNNER_CACHE_DIR=$TRAVIS_BUILD_DIR/runner/.cachedir
  - secure: GZ0fR/7Lc4OZ8fwqARZWSU0nO7hyzVS12k+tTGSY5i7YBDFRpUx/o7DE8A2jfi32vjJforpb3ZR0d5F+mQbussA9zXWALCjTh1/5dIrL2J/upTv3ecBrG9S7s2sSHFNBBP3kfGWEX3kccBd8fu9Lv7ZQhlF8lQx1DBbbDFCZHkxCN9E7mv0o3Ex+jsnHn1IFfxR4ewEQ7NixVugSHS0nJXMwrLnO36CCaMEqChQnxQaXu0xkZE8e9caZs02gJ2dJMvL40xoPZ5FRQfUncoYd+xbd1gl+jLIhSQappVY1bhCdCT9xpt1cvrhWEk0jGAf/fxeTxU9Yk2gAKq9kOWrXOKz0E1jmMS7x/A17zk6y1aphJDZkDKhOKKcze8zaFc2cpX3cjfdjoIpX+K61rHhqilbBfPjnWPHjvZGHiCVqy73zmi0Zy/05POE0/OY+nUpA3BINNEH6mZwvxr5fL34HKdJET0WjhTpBb1gGZYm87whxs3e/EABv7g3PlAg4TwgZLT1v2adNBC/HQBEPCEzsGdKh33kzqVD94K5l3LrFd6v9Aq8J3dx+0WxJ+at0ZFNFRm2iqb33Y/rJwVIOUZ5k5GjlpQqp+kZeGY7PNFNsKDzzgEQAKujHQemMZ3gXKG2/dJNzgvTeStadI/S0W52zlpKdubThCxRu1ywEYyUgpCs= # CANARY_REPO_TOKEN
  - secure: FWmkVCWcVfd2z+s6Q1TmFpDHCdDtmWOvvq/OrhnY8Za4bQAnjWNtPJK5BeiJ9bbS6Mmj3/xwJIBpqyCeYztwXndE+FjElXRM9epEjq8TQcTiJcvnOw/Qg7mN4KcwzfiKypkcP+Sut3Fro9vYPBZq0fkJXC64U0/xsT/2Doyu/EHeTA11u/DBexfQyIgd/ZhrH4DpNJ3TPpCsaKFakBCcxqbkVmjq3mymXg6Mbw65Y0uMLn5JNnTc1rob0n3gO04sPqpHGN+MVrCY0voHpOAo1Mh11tiGg7z5NMQT1rJq7psAlXxbphv97oT7XeMr9U+//kECPYa46BsJRTOw/c/CBcFE1saz7ApCC6lDLafvmTh3M+6AxoqvATQWsVsEqrE9S0zaH5D9QiBMwDjupwQpQtefBqx1S4y72085VkDfJNqQIFIYBWFqG5DHQByc0qhFE3KLGGpoMgzg4/AgOETfFqwHNiGm2PGmCMHJTaDZBsLs9w5rnFxwM7jsaKltffZaR4wsTqD64WzJfvcsgVDXCHHuKYP9jmH4PQbve21I7vGgAnkMDm2/QyC2vQ6ORsQMeosvQbL2PVR4ZvthO95y85t6IaczG1tFKH/3kv6i+roKAlsy+/QDJvmH8ESnmRdquN6v4qJ+Wd+2Sv+qkYMg0ZqULKpx2Qy+pzqbKoyq/s0= # CANARY_PLANCK_TRAVIS_TOKEN
  - secure: KjSnZq0C+hgq6MADki2831y+eJ0gCWVbnpSrTODYTENrUwN1MHA8PmvdX3zZBXDqa/HUGOOIyBDdW6Qc/JDpkUtA33BO0W2ofKf4G2G7fQKqI64pnuusIMEQdyd+nze455faUUfL2wsOtf6khwKZjkWY7yFQC7U4dKbrT/g+4lNJqv3dJUKayk9NYRsQvnnhigPg+NOxS6H4AkGBvO++XP5O49fI5wmINR9pMCkxCnWcWn+xcFMJAzJsay7VHV5ScaVOUhHBOx+RBlO/eF0ox8uVdw7P9CBBBtqE2NOcp9RFOj0ltxzK49kcEzj6Tufv/9G71/4194CfS6EHcaASOWzLl7Y1x90CfhTYBjp2UX2BO4RxWRKDXIyE3f5W18dvKEFHv8oOrD+/5Uu4vsS84047DQS04P88lBZvaOuTIJlhaSShvb8A/eA6ajsqfPvnwt+Jkkk1fv9KhVsMqYj5WgM6+SYGxE51jrQRbTFqQhl+WMlMtWm4yGVUY6v2qr0xqrDTcn8yph8MUAvo9j0OmvWRqcgvWAJDkXgNWlOe5u4oGSJddUltoXsM+kx6hA4ohLUlb161yPveQdpgk51t1g48dZ4mAn0ROAfv7UQDzI57CiQcwqSVkijD4zW6g2jNQa6QhqF/2jXNh0H/XgccEJ/n1hAIAg8W8FncdRrnVg4= # CANARY_COAL_MINE_TRAVIS_TOKEN
  - secure: xE6ci+qnm5MM0eU8zXC/dU4rFwACTcxZC25olWTLu7n22qeGQYe97rd5gEHTm0SGoEPlXwO4nFEQlhNdAYjSL65Uc/r+srjXnbTbP26+2HgH3PT4Gc/wtWfr5VpCy4NBW3mgivwgu5skahS0FzU2k0I+Jt2V0LXPY3mn0SAh1uPkYFMm4NCqVOxH6tOFyXZSvSB1PnEQZbSQoCT3lezxnuPJnVqi00fTJ4AVt/Ll04EySueyCd9xrs3d9R1rf3NIHzWGjhVNrRl2/glwjTJc9DoisxhJB/aKcawZMaVFC33G6ugJaxaXA34+CqUH53U1zziG8zAamYI2RoohZ2DSx2xb/Js3IIkj7b2cldz5JjPk4IrfEpZu65UKlUrFHpfA4j1jNP4CCVj1WZdgOzPRQtfVztH6yyVte9P7K4EVSYu/3JZOAI3pRNLS1k9Hw2+zcAMwyBvxLrh+u2itu4eNI1JWUN5c5eICXjbOLQVYZR6LoI37OABGPsaB3BsZ1rOdIc/RaQL3ssSD1yAx8gHftTPuXfCp1TIJ6Vh8QCrNAXS/0lAs1p4LQZVfvpMDQRV6fFsXmGXAwoEKEn62FhH1TeE0jmjkKqHQXBXdXSqmMyq/0RnHIhBwXrtGa4orEhlPZWq4WnIlcuw9fNoAoVW2jsTt4r+eoiqHCUGPhRwuBxA= # CANARY_CHKUP_TRAVIS_TOKEN
  - secure: TkOdXjzM8XFgqZAyvuJ859Uw4imG0cnPC1Zectvd8Qs9gp95J219fBo6ehEuWsz8o+LMab7BUTdi8BiB0jzfH+F0JSm/epHg9XdzRJ2KaxaHa0XKmO8fbFL8NaJ9fvbeomMTOKz1Vn/ITQ9o0Xujpu+eHeR4UcY+SS91p0XMCYnLQY1Lv2jg2IxXRHwbIIcUboQ2LFrLlVU0cbGUO+67GqWxiUpapkpBTHb2pVi2d7uCQfVHF2CoF2MaWN1I9bqlJiZohOGxtvBCSQ5HIJqLNndGUHalPQa3j/A0zcNxp+NkMcv20LijX8iD18F/5Qz3QZJJCx5+e65EC222P9ADEuNmSr1VzhuFXOkL81xftrrJSnoILdSNcjm/0ZYLWrSoWZtrR6qVupVpKun9LI/AyozbyMnFkBSATsLYlm0cY4+t3i8BE9Y5LvqT2JDjmeHQkQ7ANqPNU+X1JkBqKrKiJYa/dLjvNiAmJ9ssJ+manDUj6/jD7bOxQWgLg6tImB6NCvxzVsWzHlTBZQhoRc75z+CH63gcwq/o3iYl54xMlgKpoYLAnbPL0P/cbMWKqyAKeOPTUMVfCWMLKBr5pFvBLr0UKeXUoxxLqWc4cVtB08opFsXESOrKOa8q+p269Y8Vp9BuQJK8ytNhBsJSsaZbSlrXIVvo9kmI0y+Hps8xfRc= # CANARY_ILK_TRAVIS_TOKEN
  - secure: U2EgDMiwYLvb5k0zPPcVQ41PJwZGTJq0gCdnp/0kSr0I9RZajwUjyR8GpTB2iWeNHzwXPtiDl2/sMQrBWuLq8hhe0aokfDqICz4j5W2lT9MkCMX2+iOpihBIh7Rqbp+DJvUOifIIEpk6/Fkweg4WckEg/Z8zqm0Rs61EacOB6HX/T6+zlpI73QERNLv9+i120MeFDaFgUnDX9qTiK0LYqCnNkmi23dMq7izRdfDFo4EO67f3gr+grcyQgOFrJez/pHMDLkgUqfMAKt6tjqS42y+ekurQvVSIiUBioQeKjsfC/cZib0dk8boKp1fa1FJWMmcZ2z8TqKifmN/bTNkeP5ZpNi0KBFRxbNWhb+xIY28/ZPb90SUiE3RE90oJ8FzqnhbE9zgeck1H0TtpAeMp6yrmh1olRVn4j12SGWsJpJkYnL5SX4CMkgw9qVKWOHg9YJ/Jaycm3uss+R5x06+DLMecz5WEgYXHKTfwd7i533xYD39w94qh8SNSz7vmwnssZ27qBZ7goCm7d84AL2KNbnYBkd7+HE8+dom9+Vixe2v9hIoREzMF7Hcs68qSN1j7STswfEaMmjzQx9TXy6CDZOTvMBFsrzKb6/5sCUhQ9Vjjl+Lv3Yamhwom4/daTHKllgvvzLsvZDHWZcKSYfUkt3BiSao4QDec5ckQEzh4iyQ= # CANARY_CLJS_BEAN_TRAVIS_TOKEN
  - secure: RpLavMEfh+kdx3XuIpRPZ6ObHeKcDQrsZd/tM06BWzlwCR3R/B8j0W4fMK5YgNmapOs4JcEblTRv8p5V0q0McMuUsB1m/N2Xjcg8BsNpEAcoKhQg+nZMWSo7saGntTF13GcjTmlxKoF6uvY0lriGcsVZldB1VixupA7mIviSO4nGedWLEU7DGaRi4D6kQxlMXeLU5XCNBW9pIKsBU4CBxluABUy/F7LPBuHkV9rMJu4Ep+akTv3C0sKUj5dmaWJrMXMf2AsLsfTGeZTIifVQeivxwzLnfrvCTShgRi2NocxLNTnk0l0ANgFdGwpUY4IztiqVFSMIhUe3dI5GvkbwvHzw4DHsUl4y77TmyyhLrj3DFRj3zloK/QKgYy7NyhHPwpuzyZES6YJRPsn562MuFf4oT9/db/EG6KGx0H3xHQnLi3Fgn9omQeZ1sPi2/dKO9NFKGJloWeDgXAT2+utqZUcpH3jIdP+BPpGBUiikY+fEFKW7RQoSjd8tyRkPMUGidVUn9oSQxLH8ny3v5jFv6ELboGD65IOIh03rp9bWguBbrApllYRbJnYnQVpj6E+LU4C+XExqGRTP0FOy5fF7xqjLiby44WhRietFpXIbycU5k6oTufWLYuMHeMN/ySvO5GEd5mUYvqT5Z2nSgusHS8Wgo97Zex4KG4Tb/aoFCPk= # CANARY_DARWINS_TRAVIS_TOKEN
cache:
  directories:
  - "$DOCKER_CACHE_DIR"
  - "$DOCKER_VOLUMES_DIR"
  - "$RUNNER_CACHE_DIR"
branches:
  only:
  - jobs
services:
- docker
before_cache:
- "./scripts/docker-save.sh"
before_install:
- git remote add x https://github.com/cljs-oss/canary.git && git fetch x master &&
  git checkout x/master
- "./scripts/docker-load.sh"
script:
- "./scripts/travis-entrypoint.sh"
